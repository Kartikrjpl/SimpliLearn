import React from "react";
import ReactDOM from "react-dom";

class Form extends React.Component {
    constructor() {
      super();
      this.state = {
        participate: '',
        roll_no: null,
      };}
    changeHandler = (event) => {
      let nam = event.target.name;
      let val = event.target.value;
      if (nam === "roll_no") {
        if (!Number(val)) {
          alert("Your roll_no must be a number");
        } }
      this.setState({[nam]: val});
    }
    render() {
      return (
        <form>
        <h1>Hello {this.state.participate} </h1>
        <p>Register your name:</p>
        <input
          type='text'
          name='participate'
          onChange={this.changeHandler}
        />
        <p>Enter your roll_no:</p>
        <input
          type='text'
          name='roll_no'
          onChange={this.changeHandler}
        />
        <h2>Your roll_no is {this.state.roll_no}</h2>
        </form>
      );}}
ReactDOM.render(<Form />, document.getElementById("root"));

=============================================================================================
import React from "react";
import ReactDOM from "react-dom";
import { useState } from "react";

const COLORS = ["white", "red", "blue", "black", "cream"];

function RegisterYourCatForm() {
  const [values, setValues] = useState({
    name: "",
    color: "",
    age: "",
    habits: ""
  });

  const set = (name) => {
    return ({ target: { value } }) => {
      setValues((oldValues) => ({ ...oldValues, [name]: value }));
    };
  };

  const saveFormData = async () => {
    const response = await fetch("/api/registration", {
      method: "POST",
      body: JSON.stringify(values)
    });
    if (response.status !== 200) {
      throw new Error(`Request failed: ${response.status}`);
    }
  };

  const onSubmit = async (event) => {
    event.preventDefault(); // Prevent default submission
    try {
      await saveFormData();
      alert("Your registration was successfully submitted!");
      setValues({
        name: "",
        color: "",
        age: "",
        habits: ""
      });
    } catch (e) {
      alert(`Registration failed! ${e.message}`);
    }
  };

  return (
    <form onSubmit={onSubmit}>
      <h2>Register Your Cat</h2>

      <label>Name*:</label>
      <input type="text" required value={values.name} onChange={set("name")} />

      <label>Color*:</label>
      <select required value={values.color} onChange={set("color")}>
        <option value="">Select color</option>
        {COLORS.map((c) => (
          <option key={c}>{c}</option>
        ))}
      </select>

      <label>Age*:</label>
      <input
        type="number"
        required
        min="1"
        value={values.age}
        onChange={set("age")}
      />

      <label>Habits:</label>
      <textarea value={values.habits} onChange={set("habits")} />

      <button type="submit">Submit</button>
    </form>
  );
}

ReactDOM.render(<RegisterYourCatForm />, document.getElementById("root"));
